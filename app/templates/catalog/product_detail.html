{% extends "base.html" %}
{% block title %}{{ product.name }} - My Shop{% endblock %}
{% block content %}
  <div class="product-detail">
    <div class="images">
      {% for img in product.images %}
        <img src="{{ img.image_url }}" alt="{{ img.alt_text }}">
      {% endfor %}
    </div>
    <div class="info">
      <h1>{{ product.name }}</h1>
      <p class="price">${{ '%.2f'|format(product.price) }}</p>
      <p>{{ product.description }}</p>
      {% if product.stock > 0 %}
        <form action="{{ url_for('cart.add') }}" method="post">
          <input type="hidden" name="product_id" value="{{ product.id }}">
          <input type="number" name="quantity" value="1" min="1" max="{{ product.stock }}">
          <button type="submit">Add to cart</button>
        </form>
      {% else %}
        <p class="out-of-stock">Out of stock</p>
      {% endif %}
    </div>
  </div>
{% endblock %}